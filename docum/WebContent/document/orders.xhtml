<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui">

	<p:panel id="ordersMainPanel" header="Заказы" toggleable="true" collapsed="false" toggleSpeed="300" styleClass="toggle-panel">	
		<h:panelGrid columns="2" styleClass="invoicesLayoutTable"
			id="ordersLayoutTable">
			<p:panel id="ordersPanel" style="text-align:center" styleClass="toggle-panel">
			<ui:include src="/WEB-INF/includes/crudToolBar.xhtml">
				<ui:param name="bean" value="#{orderBean}" />
				<ui:param name="gridId" value="orders" />
			</ui:include>
			<p:dataTable id="orders" var="order"
				value="#{orderBean.allObjects}" selectionMode="single"
				selection="#{orderBean.order}" update="ordersInfoPanel">
				<p:column sortBy="#{order.number}"
					filterBy="#{order.number}" filterMatchMode="contains">
					<f:facet name="header">
					Номер заказа 
				</f:facet>
					<h:outputText value="#{order.number}" />
				</p:column>
			</p:dataTable>
			
		</p:panel>
		<p:panel id="ordersInfoPanel" style="text-align:center">
			<f:facet name="header">
				<h:outputText value="#{orderBean.order.number}" />
			</f:facet>
			<h:panelGrid columns="2" styleClass="infoLayoutTable">
			
				<p:dataTable id="orderContainers" var="container"
					value="#{orderBean.containers}">
					<p:column>
						<h:outputText value="#{container.number}" />
						<f:facet name="header">Контейнеры</f:facet>
					</p:column>
				</p:dataTable>
	
				<p:dataTable id="orderVoyages" var="voyage"
					value="#{orderBean.voyages}">
					<p:column>
						<h:outputText value="#{voyage.vessel.name}" />
						<f:facet name="header">Судно</f:facet>
					</p:column>
					<p:column>
						<h:outputText value="#{voyage.number}" />
						<f:facet name="header">Рейс</f:facet>
					</p:column>
					<p:column>
						<h:outputText value="#{voyage.arrivalDate}" />
						<f:facet name="header">Дата прибытия</f:facet>
					</p:column>
				</p:dataTable>
	
			</h:panelGrid>
		</p:panel>
	</h:panelGrid>
</p:panel>

</html>