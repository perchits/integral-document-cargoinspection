<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<ui:composition template="/WEB-INF/includes/dialogLayout.xhtml">
	<ui:param name="width" value="800" />
	<ui:param name="saveObject" value="saveObject" />
	<ui:param name="deleteObject" value="deleteObject" />
	<ui:define name="dialogBody">
		<h:outputLabel for="containerNumber" value="Номер: *" />
		<p:inputText value="#{bean.container.container.number}"
			id="containerNumber" required="true" label="Номер" />
		<h:outputLabel for="containerOrders" value="Заказы: *" />
		<h:outputText value="#{bean.container.orderInLine}"
			id="containerOrders" />

		<p:dataTable id="invoices" var="invoice" selectionMode="single"
			styleClass="cellSmallText" selection="#{bean.selectedInvoice}"
			value="#{bean.container.container.invoices}">
			<p:column>
				<h:outputText value="#{invoice.number}" />
				<f:facet name="header">Инвойсы</f:facet>
			</p:column>
		</p:dataTable>
		<p:commandButton process="invoices,freeInvoices" value="bind" actionListener="#{bean.bindInvoice}"
			update="invoices,freeInvoices" />
		<p:commandButton process="invoices,freeInvoices" value="unBind" actionListener="#{bean.unBindInvoice}"
			update="invoices,freeInvoices" />
		<p:dataTable id="freeInvoices" var="invoice" selectionMode="single"
			styleClass="cellSmallText" selection="#{bean.freeInvoice}"
			value="#{bean.freeInvoices}">
			<p:column>
				<h:outputText value="#{invoice.number}" />
				<f:facet name="header">Инвойсы</f:facet>
			</p:column>
		</p:dataTable>


	</ui:define>
	<ui:define name="deleteConfirmation">
		<ui:include src="/WEB-INF/includes/deleteConfirmation.xhtml">
			<ui:param name="message"
				value="Удалить контейнер '#{bean.container.number}'?" />
		</ui:include>
	</ui:define>
</ui:composition>

</html>