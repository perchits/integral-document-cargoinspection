<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<ui:composition template="/WEB-INF/includes/dialogLayout.xhtml">
	<ui:param name="width" value="640" />
	<ui:param name="saveObject" value="saveOption" />
	<ui:param name="deleteObject" value="removeOption" />
	<ui:param name="colCount" value="1" />
	<ui:define name="dialogBody">
	<h:panelGrid width="100%" columns="2">
		<h:outputLabel for="optionEnglishName" value="Name: *" />
		<p:inputText value="#{bean.option.englishName}" id="optionEnglishName"
			required="true" label="Наименование на англ. яз.">
		</p:inputText>
		<h:outputLabel for="optionName" value="Наименование: *" />
		<p:inputText style="min-width:400px" value="#{bean.option.name}" id="optionName"
			required="true" label="Наименование">
		</p:inputText>
	</h:panelGrid>	
	</ui:define>
	
	<ui:define name="details">
		<p:panel style="border:0">
			<ui:include src="/WEB-INF/includes/baseCrudToolBar.xhtml">
				<ui:param name="bean" value="#{bean}" />
				<ui:param name="gridId" value="childOptGrid" />
				<ui:param name="newObject" value="addChildOpt" />
				<ui:param name="editObject" value="editChildOpt" />
				<ui:param name="beforeDeleteObject" value="beforeDeleteChildOpt" />
				<ui:param name="hideTitle" value="true" />
			</ui:include>
			<p:dataTable id="childOptGrid" var="childOpt" selectionMode="single"
				value="#{bean.option.children}" selection="#{bean.childOpt}">

				<p:column>
					<h:outputText value="#{childOpt.name}" />
					<f:facet name="header">Свойство</f:facet>
				</p:column>

				<p:column style="width:70px; text-align:center">
					<p:commandButton title="Вверх" image="ui-icon-arrow-1-n"
						styleClass="inline-btn border-btn" update="childOptGrid">
						<f:setPropertyActionListener target="#{bean.childOptUp}"
							value="#{childOpt}" />
					</p:commandButton>
					<p:commandButton title="Вниз" image="ui-icon-arrow-1-s"
						styleClass="inline-btn border-btn" update="childOptGrid">
						<f:setPropertyActionListener target="#{bean.childOptDown}"
							value="#{childOpt}" />
					</p:commandButton>
				</p:column>

				<p:rowExpansion>
					<p:panel styleClass="innerGrid">
						<ul>
							<ui:repeat var="child" value="#{childOpt.children}">
								<li class="listContainersInDoc"><h:outputText
										value="#{child.name}" />
								</li>
							</ui:repeat>
						</ul>
					</p:panel>
				</p:rowExpansion>

			</p:dataTable>

		</p:panel>
		
	</ui:define>
	<ui:define name="deleteConfirmation">
		<ui:include src="/WEB-INF/includes/deleteConfirmation.xhtml">
			<ui:param name="message" value="Удалить свойство '#{bean.option.name}'?" />
		</ui:include>
	</ui:define>
</ui:composition>
</html>